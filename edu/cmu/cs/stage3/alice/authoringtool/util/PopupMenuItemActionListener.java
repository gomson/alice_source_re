package edu.cmu.cs.stage3.alice.authoringtool.util;

import edu.cmu.cs.stage3.alice.authoringtool.AuthoringTool;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import javax.swing.JMenu;
import javax.swing.JPopupMenu;








































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































class PopupMenuItemActionListener
  implements ActionListener
{
  protected Runnable runnable;
  protected JMenu menu;
  
  public PopupMenuItemActionListener(Runnable runnable)
  {
    this.runnable = runnable;
  }
  
  public PopupMenuItemActionListener(Runnable runnable, JMenu menu) {
    this.runnable = runnable;
    this.menu = menu;
  }
  
  public void actionPerformed(ActionEvent e) {
    try {
      runnable.run();
      if (menu != null) {
        menu.getPopupMenu().setInvoker(null);
      }
    }
    catch (Throwable t) {
      AuthoringTool.showErrorDialog("Error encountered while responding to popup menu item.", t);
    }
  }
}
